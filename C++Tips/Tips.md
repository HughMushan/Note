#C++中的语法细节

##关于`static`
###面向过程中的static
1. 静态全局变量
在全局变量前，加上关键字static，该变量就被定义成为一个静态全局变量。我们先举一个静态全局变量的例子，如下：

```c++ 

//Example 1
#include <iostream.h>
void fn();
static int n; //定义静态全局变量
void main()
{    
    n=20;
    cout<<n<<endl; 
    fn();
}

void fn(){ n++; cout<<n<<endl;}

```

静态全局变量有以下特点： 
* 该变量在全局数据区分配内存；
* 未经初始化的静态全局变量会被程序自动初始化为0（自动变量的值是随机的，除非它被显式初始化）； 
* 静态全局变量在声明它的整个文件都是可见的，而在文件之外是不可见的；

静态变量都在全局数据区分配内存，包括静态局部变量。对于完整的程序，在内存中的分布有代码区、全局数据区、堆区、栈区。一般程序的由new产生的动态数据存放在堆区，函数内部的局部变量在栈区。静态全局变量在全局数据区，此外要注意的是静态局部变量也是在全局变量区。

2. 静态局部变量

在局部变量前加上关键字static，改变量被定义为静态局部变量，存放在全局变量区，不会因为函数的退出而释放空间。它与静态全局变量的唯一区别在于作用域。退出函数之后，该静态局部变量作用域也随之消失。
静态局部变量有以下特点：
* 该变量在全局数据区分配内存； 
* 静态局部变量在程序执行到该对象的声明处时被首次初始化，即以后的函数调用不再进行初始化；
* 静态局部变量一般在声明处初始化，如果没有显式初始化，会被程序自动初始化为0； 
* 它始终驻留在全局数据区，直到程序运行结束。但其作用域为局部作用域，当定义它的函数或语句块结束时，其作用域随之结束； 
