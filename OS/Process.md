#进程与线程的区别与联系

1. 调度：　线程是独立调度的基本单位，进程是拥有资源的基本单位。在同一进程中，线程的切换不会引起进程切换，在不同进程中进行线程的切换会引起进程的切换

2. 拥有资源：　进程是拥有资源的基本单位，线程不拥有资源（有一点必不可少的资源），但线程可以共享其隶属进程的系统资源

3. 并发性：进程可以并发，同一进程内的多个线程也可以并发执行，从而使操作系统具有更好的并发性，大大提高了系统吞吐量

4. 系统开销：创建和撤销进程时，系统都要为之分配或者回收资源，如内存空间、I/O设备等，因此操作系统所付出的开销远大于创建或撤销线程的开销。类似地，在进程切换时，涉及当前执行进程CPU环境的保存以及新调度的进程CPU环境的设置；而线程切换时只需要保存和设置少量寄存器内容，因此开销小。另外，由于同一进程内的多个线程共享进程的地址空间，因此这些线程之间的同步与通信也比较容易实现，甚至无需操作系统干涉。

5. 地址空间和其它资源：进程的地址空间之间相互独立，同一进程的各线程间共享进程的资源，某进程内的线程对于其它进程是不可见的

6. 通信方面：进程间通信需要借助操作系统，线程间可以直接读写进程数据段来通信

#[Linux进程通信](https://github.com/clpsz/linux-ipcs)

####1. 管道(pipe)

管道是linux系统中最常用的进程间通信方式，我们平常在命令行中使用如下命令：
```shell
cat /tmp/xxx.txt | grep abc
```
就是使用了管道在cat进程和grep进程间传递数据

pipe的限制有两个：

* 只能用于父子进程等有关联的进程之间来通信
* pipe是单工的，如果要相互通信，需要开两个管道


####2. 有名管道(named pipe)

有名管道，也是FIFO(First In First Out)，弥补了管道只能用于有共同祖先的进程间通信的不足，相对于pipe，fifo主要有以下几个优点：

* 可以用于任意进程之间通信
* 可以有多个读/写进程同时对管道进行操作
* 可以像变通文件一样管理管道的权限
* 可以使用标准文件读写方式来操作管道(打开，读/写，关闭)






![](/assets/20150603133335514.png)